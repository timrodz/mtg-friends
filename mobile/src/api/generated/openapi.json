{"components":{"responses":{},"schemas":{"ErrorResponse":{"properties":{"errors":{"additionalProperties":{"items":{"type":"string","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"type":"object","x-struct":null,"x-validate":null}},"title":"ErrorResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.ErrorResponse","x-validate":null},"LoginRequest":{"properties":{"email":{"format":"email","type":"string","x-struct":null,"x-validate":null},"password":{"type":"string","x-struct":null,"x-validate":null}},"required":["email","password"],"title":"LoginRequest","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.LoginRequest","x-validate":null},"LoginResponse":{"properties":{"data":{"properties":{"token":{"type":"string","x-struct":null,"x-validate":null},"user":{"properties":{"email":{"format":"email","type":"string","x-struct":null,"x-validate":null},"id":{"type":"integer","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null}},"title":"LoginResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.LoginResponse","x-validate":null},"Pairing":{"properties":{"active":{"type":"boolean","x-struct":null,"x-validate":null},"id":{"type":"integer","x-struct":null,"x-validate":null},"number":{"type":"integer","x-struct":null,"x-validate":null},"participant_id":{"type":"integer","x-struct":null,"x-validate":null},"points":{"type":"integer","x-struct":null,"x-validate":null},"round_id":{"type":"integer","x-struct":null,"x-validate":null},"tournament_id":{"type":"integer","x-struct":null,"x-validate":null},"winner":{"nullable":true,"type":"integer","x-struct":null,"x-validate":null}},"title":"Pairing","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.Pairing","x-validate":null},"PairingRequest":{"properties":{"pairing":{"properties":{"points":{"type":"integer","x-struct":null,"x-validate":null},"winner":{"nullable":true,"type":"integer","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null}},"required":["pairing"],"title":"PairingRequest","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.PairingRequest","x-validate":null},"PairingResponse":{"properties":{"data":{"$ref":"#/components/schemas/Pairing"}},"title":"PairingResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.PairingResponse","x-validate":null},"Participant":{"properties":{"decklist":{"type":"string","x-struct":null,"x-validate":null},"id":{"type":"integer","x-struct":null,"x-validate":null},"is_dropped":{"type":"boolean","x-struct":null,"x-validate":null},"is_tournament_winner":{"type":"boolean","x-struct":null,"x-validate":null},"name":{"type":"string","x-struct":null,"x-validate":null},"points":{"type":"integer","x-struct":null,"x-validate":null},"tournament_id":{"type":"integer","x-struct":null,"x-validate":null}},"title":"Participant","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.Participant","x-validate":null},"ParticipantRequest":{"properties":{"participant":{"properties":{"decklist":{"type":"string","x-struct":null,"x-validate":null},"is_dropped":{"type":"boolean","x-struct":null,"x-validate":null},"name":{"type":"string","x-struct":null,"x-validate":null}},"required":["name"],"type":"object","x-struct":null,"x-validate":null}},"required":["participant"],"title":"ParticipantRequest","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.ParticipantRequest","x-validate":null},"ParticipantResponse":{"properties":{"data":{"$ref":"#/components/schemas/Participant"}},"title":"ParticipantResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.ParticipantResponse","x-validate":null},"Round":{"properties":{"id":{"type":"integer","x-struct":null,"x-validate":null},"inserted_at":{"format":"date_time","type":"string","x-struct":null,"x-validate":null},"is_complete":{"type":"boolean","x-struct":null,"x-validate":null},"number":{"type":"integer","x-struct":null,"x-validate":null},"started_at":{"format":"date_time","type":"string","x-struct":null,"x-validate":null},"status":{"enum":["inactive","active","finished"],"type":"string","x-struct":null,"x-validate":null},"updated_at":{"format":"date_time","type":"string","x-struct":null,"x-validate":null}},"title":"Round","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.Round","x-validate":null},"RoundResponse":{"properties":{"data":{"$ref":"#/components/schemas/Round"}},"title":"RoundResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.RoundResponse","x-validate":null},"RoundResultsRequest":{"properties":{"results":{"items":{"properties":{"participant_id":{"type":"integer","x-struct":null,"x-validate":null},"points":{"type":"integer","x-struct":null,"x-validate":null}},"required":["participant_id","points"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"required":["results"],"title":"RoundResultsRequest","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.RoundResultsRequest","x-validate":null},"Tournament":{"description":"A TCG Tournament","example":{"date":"2023-10-27","id":1,"location":"Local Game Store","name":"Friday Night Magic","status":"active"},"properties":{"date":{"description":"Date of the tournament","format":"date","type":"string","x-struct":null,"x-validate":null},"description_html":{"description":"Rendered HTML description","type":"string","x-struct":null,"x-validate":null},"description_raw":{"description":"Raw description (markdown)","type":"string","x-struct":null,"x-validate":null},"format":{"description":"Tournament format","enum":["standard","edh"],"type":"string","x-struct":null,"x-validate":null},"game_id":{"description":"Game ID","type":"integer","x-struct":null,"x-validate":null},"has_enough_participants":{"description":"Whether the tournament has enough participants","type":"boolean","x-struct":null,"x-validate":null},"id":{"description":"Tournament ID","type":"integer","x-struct":null,"x-validate":null},"inserted_at":{"format":"date_time","type":"string","x-struct":null,"x-validate":null},"is_top_cut_4":{"description":"Whether there is a top 4 cut","type":"boolean","x-struct":null,"x-validate":null},"location":{"description":"Tournament location","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Tournament Name","type":"string","x-struct":null,"x-validate":null},"round_count":{"description":"Number of rounds","type":"integer","x-struct":null,"x-validate":null},"round_length_minutes":{"description":"Length of each round","type":"integer","x-struct":null,"x-validate":null},"status":{"description":"Tournament status","enum":["inactive","active","finished"],"type":"string","x-struct":null,"x-validate":null},"subformat":{"description":"Tournament subformat","enum":["bubble_rounds","swiss"],"type":"string","x-struct":null,"x-validate":null},"updated_at":{"format":"date_time","type":"string","x-struct":null,"x-validate":null},"user_id":{"description":"User ID","type":"integer","x-struct":null,"x-validate":null}},"required":["id","name","status"],"title":"Tournament","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.Tournament","x-validate":null},"TournamentRequest":{"properties":{"tournament":{"properties":{"date":{"format":"date","type":"string","x-struct":null,"x-validate":null},"description_raw":{"type":"string","x-struct":null,"x-validate":null},"format":{"type":"string","x-struct":null,"x-validate":null},"initial_participants":{"description":"List of participants, one per line","type":"string","x-struct":null,"x-validate":null},"is_top_cut_4":{"type":"boolean","x-struct":null,"x-validate":null},"location":{"type":"string","x-struct":null,"x-validate":null},"name":{"type":"string","x-struct":null,"x-validate":null},"round_count":{"type":"integer","x-struct":null,"x-validate":null},"round_length_minutes":{"type":"integer","x-struct":null,"x-validate":null},"status":{"enum":["inactive","active","finished"],"type":"string","x-struct":null,"x-validate":null},"subformat":{"type":"string","x-struct":null,"x-validate":null}},"required":["name"],"type":"object","x-struct":null,"x-validate":null}},"title":"TournamentRequest","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.TournamentRequest","x-validate":null},"TournamentResponse":{"properties":{"data":{"$ref":"#/components/schemas/Tournament"}},"title":"TournamentResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.TournamentResponse","x-validate":null},"TournamentsResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Tournament"},"type":"array","x-struct":null,"x-validate":null}},"title":"TournamentsResponse","type":"object","x-struct":"Elixir.MtgFriendsWeb.Schemas.TournamentsResponse","x-validate":null}},"securitySchemes":{"authorization":{"scheme":"bearer","type":"http"}}},"info":{"title":"mtg_friends","version":"0.1.0"},"openapi":"3.0.0","paths":{"/api/login":{"post":{"callbacks":{},"operationId":"MtgFriendsWeb.API.SessionController.create","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"description":"Login params","required":false},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}},"description":"Login successful"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Invalid credentials"}},"security":[],"summary":"Login","tags":["sessions"]}},"/api/tournaments":{"get":{"callbacks":{},"operationId":"MtgFriendsWeb.API.TournamentController.index","parameters":[{"description":"Page number","in":"query","name":"page","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Items per page","in":"query","name":"limit","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentsResponse"}}},"description":"Tournaments list"}},"security":[],"summary":"List tournaments","tags":["tournaments"]},"post":{"callbacks":{},"operationId":"MtgFriendsWeb.API.TournamentController.create","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentRequest"}}},"description":"Tournament params","required":false},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentResponse"}}},"description":"Tournament created"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Create tournament","tags":["tournaments"]}},"/api/tournaments/{id}":{"get":{"callbacks":{},"operationId":"MtgFriendsWeb.API.TournamentController.show","parameters":[{"description":"Tournament ID","example":1,"in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentResponse"}}},"description":"Tournament details"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Tournament not found"}},"security":[],"summary":"Show tournament","tags":["tournaments"]}},"/api/tournaments/{tournament_id}":{"put":{"callbacks":{},"operationId":"MtgFriendsWeb.API.TournamentController.update","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentRequest"}}},"description":"Tournament params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TournamentResponse"}}},"description":"Tournament updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update tournament","tags":["tournaments"]}},"/api/tournaments/{tournament_id}/participants":{"post":{"callbacks":{},"operationId":"MtgFriendsWeb.API.ParticipantController.create","parameters":[{"description":"Tournament ID","example":1,"in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantRequest"}}},"description":"Participant params","required":false},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantResponse"}}},"description":"Participant created"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Add participant to tournament","tags":["participants"]}},"/api/tournaments/{tournament_id}/participants/{id}":{"delete":{"callbacks":{},"operationId":"MtgFriendsWeb.API.ParticipantController.delete","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Participant ID","in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"204":{"description":"Participant removed"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Participant not found"}},"security":[{"authorization":[]}],"summary":"Remove participant from tournament","tags":["participants"]},"patch":{"callbacks":{},"operationId":"MtgFriendsWeb.API.ParticipantController.update (2)","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Participant ID","in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantRequest"}}},"description":"Participant params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantResponse"}}},"description":"Participant updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update participant","tags":["participants"]},"put":{"callbacks":{},"operationId":"MtgFriendsWeb.API.ParticipantController.update","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Participant ID","in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantRequest"}}},"description":"Participant params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParticipantResponse"}}},"description":"Participant updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update participant","tags":["participants"]}},"/api/tournaments/{tournament_id}/rounds":{"post":{"callbacks":{},"operationId":"MtgFriendsWeb.API.RoundController.create","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundResponse"}}},"description":"Round created"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Round creation failed (latest round not complete)"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Create next round","tags":["rounds"]}},"/api/tournaments/{tournament_id}/rounds/{number}":{"get":{"callbacks":{},"operationId":"MtgFriendsWeb.API.RoundController.show","parameters":[{"description":"Tournament ID","example":1,"in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Round number","example":1,"in":"path","name":"number","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundResponse"}}},"description":"Round details"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Round not found"}},"security":[],"summary":"Show round","tags":["rounds"]},"put":{"callbacks":{},"operationId":"MtgFriendsWeb.API.RoundController.update","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Round number","in":"path","name":"number","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundResultsRequest"}}},"description":"Round results","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundResponse"}}},"description":"Round results updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update round results","tags":["rounds"]}},"/api/tournaments/{tournament_id}/rounds/{round_id}/pairings/{id}":{"patch":{"callbacks":{},"operationId":"MtgFriendsWeb.API.PairingController.update (2)","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Pairing ID","in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PairingRequest"}}},"description":"Pairing params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PairingResponse"}}},"description":"Pairing updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update pairing result","tags":["pairings"]},"put":{"callbacks":{},"operationId":"MtgFriendsWeb.API.PairingController.update","parameters":[{"description":"Tournament ID","in":"path","name":"tournament_id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Pairing ID","in":"path","name":"id","required":true,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PairingRequest"}}},"description":"Pairing params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PairingResponse"}}},"description":"Pairing updated"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Validation error"}},"security":[{"authorization":[]}],"summary":"Update pairing result","tags":["pairings"]}}},"security":[{"authorization":[]}],"servers":[{"url":"http://localhost:4000","variables":{}}],"tags":[]}
